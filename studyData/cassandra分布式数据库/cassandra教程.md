[在线教程](https://www.w3cschool.cn/cassandra/)
### cassandra教程
cassandra 是一个来自`apache`的分布式数据库，具有高度开展性，可用于管理大量的结构化数据。它提供了高可用性，没有单点故障。这是一种NoSQL类型的数据库

#### NoSQL数据库
它提供一种机制来储存和检索数据，而不是关系数据库中的使用的表格关系。这些数据库是无架构的，支持简单的复制，具有简单的api，最终一致，并且可以处理大量的数据。

NoSQL数据库主要目的在于：

- 设计简单
- 水平缩放
- 更好地控制可用性

与关系数据库相对比，NoSQL数据库使用不同的数据结构。它使NoSQL的一些操作更快，给定的NoSQL数据库的适用性取决于它必须解决的问题。

| 关系型数据库  | NoSQL数据库  |
|:----------|:----------|
| 支持强大的查询语言    | 支持非常简单的查询语言   |
| 它具有固定的模式   | 无固定的模式   |
| 遵循ACID（原子性、一致性、隔离型和持久性）    | 只有`最终一致`    |
| 支持事物   | 不支持事物    |


除了Cassandra,以下还有其他的数据库相对受欢迎:

- apache的HBase的 - HBase是一个开放源代码，非关系型，分布式数据库
- mongoDB 是一个跨平台的面向文档的数据库，避免使用传统的基于表的关系数据库结构，使用动态模式的类似json的文档


### Cassandra特点
- 弹性可扩展性
	
	 cassandra是高度可扩展的，它允许添加更多的硬件以适用更加的客户和更多的数据根据要求
- 始终基于架构
	
	没有单点故障，它可以连续用于不能承担故障的关键业务应用程序
- 快速线性性能
	
	线性可扩展性，它增加集群中的节点数量增加你的吞吐量，因此保持一个快速的响应时间
- 灵活的数据储存
	
	适应所有可能的数据格式，包括：结构化，半结构化和非结构化，它可以根据您的需要动态的适应变化的数据结构
- 便捷的数据分发
	
	通过在多个数据中心之间的复制数据，可以灵活的在需要时分发数据
- 事物支持
	
	支持事物，原子性，隔离性和一致性、持久性
- 快速写入
	
	cassandra被设计为在廉价的商品硬件上运行，它的执行快速写入，并可以储存数百TB的数据，而不牺牲读取效率


### Cassandra 架构
cassandra的设计处理跨多个节点的大数据工作负载，而没有任何单点故障。cassandra在其节点之间具有对等的分布式系统，并且数据分布在集群中的所有节点之间。

- 集群中的所有节点都扮演着相同的角色。每个节点都是独立的，并且同时相互连接到其他的节点
- 集群中的每个节点都可以接收读取和写入的请求，无论数据实际位于集群中的何处
- 当节点关闭时，可以从网络中的其他节点提供读取/写入请求

### Cassandra中的数据复制
cassandra中，集群中的一个或多个节点充当给定数数据片段的副本。如果检测到一些节点以过期响应，cassandra会向客户端返回最近的值。返回最近的值之后，cassandra在后台执行读修复以及更新失效值

下图显示`cassandra`如何在集群中的节点之间使用数据复制，以确保没有单点故障

[图](./images/data_replication.jpeg)

注 - Cassandra在后台使用Gossip协议，允许节点相互通信并检测集群中的任何故障节点。


### Cassandra 关键组件
- 节点 - 它是储存数据的地方
- 数据中心 - 它是相关节点的集合
- 集群 - 集群是包含一个或多个数据中心的组件
- 提交日志 - 提交日志是cassandra中的崩溃恢复机制，每个写操作都是写入提交日志
- mem-表 - mem-表是存储器驻留的数据结构，提交日志之后，数据将被写入mem表。有时，对于单列租，将会有多个mem表
- SSTabel - 它是一个磁盘文件，当其内容达到阈值时，数据从mem表中刷新
- 布隆过滤器  - 这些只是快递，非确定性的算法，用于测试元素是否





























